<div class="page" ng-controller="SiteNotificationsController" >

     <div class="row">
        <div class="col-sm-12">
            <h2 class="section-header">{{building.details.item.name}}</h2>
        </div>
    </div>           

<div layout="row" layout-align="end center" class="layout-align-end-center layout-row" style="background: white;padding: 16px">
    <md-button ng-click="open_new_measurements()" class="md-raised btn-w-md md-primary" ng-show="add_measurements_btn_view"><span data-translate="add_virtual_values"></span></md-button>

    <div class="form-group">
        <label for="building_build_year" class="col-sm-12 control-label"><span data-translate="FROM_TIME"></span></label>
        <div class="col-sm-12" style="background: white">
            <md-datepicker ng-model="from_date" md-placeholder=""></md-datepicker>
        </div>
    </div>
    <div class="form-group">
        <label for="building_build_year" class="col-sm-12 control-label"><span data-translate="TO_TIME"></span></label>
        <div class="col-sm-12" style="background: white">
            <md-datepicker ng-model="to_date" md-placeholder=""></md-datepicker>
        </div>
        
    </div>
     <md-button class="md-accent md-success" ng-click="update()"><span data-translate="UPDATE"></span></md-button>             
</div>

    <div class="row" ng-init="getNotifications()" style="min-height: 500px">
        <div class="col-sm-12">
        <div class="panel panel-default panel-minimal">
            <div class="panel-body">                
                <div ng-show="loading" style="text-align: center;width:100%" class="chart_loading">
                    <h4>Loading</h4>
                    <md-progress-circular md-mode="indeterminate" style="margin:0 auto"></md-progress-circular>
                </div>
                <div class="row">
                    <div class="col-sm-12">
                        <table class="table table-striped table-bordered no-margin" ng-hide="loading">
                            <tr>
                                <th><span data-translate="TIMESTAMP"></span></th>
                                <th><span data-translate="Name"></span></th>
                                <th><span data-translate="threshold"></span></th>
                                <th><span data-translate="suggestion"></span></th>
                                <th><span data-translate="CURRENT_VALUE"></span></th>
                            </tr>
                            <tbody>
                                <tr ng-repeat="notification in notifications" ng-class="notification.class">
                                    <td>{{notification.timestamp | date:'yyyy-MM-dd HH:mm:ss Z'}}</td>
                                    <td>{{notification.rule.fields.name}}</td>
                                    <td>{{notification.rule.fields.operator}}{{notification.rule.fields.threshold}}</td>
                                    <td>{{notification.values.suggestion}}</td>
                                    <td>{{notification.values.value | number:2}}</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                </div>        
            </div>
        </div>
    </div>
</div>  

